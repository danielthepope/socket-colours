<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="farbtastic.css" type="text/css" />
</head>
<body>
Hello. Click a colour to change it on everyone else's screen

<!-- <ul id="messages"></ul> -->

    <!-- <form action="">
      <input id="myMessage" autocomplete="off" />
      <input type="submit" value="submit"/>
    </form> -->
    <!-- <form><input type="text" id="color" name="color" value="#ff0000" /></form> -->

	<div id="colorpicker"></div>

	<script src="http://cdn.socket.io/socket.io-1.3.4.js"></script>
	<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
	<script type="text/javascript" src="farbtastic.js"></script>
	<script>
	 $(document).ready(function() {
	    var socket = io();
	    // $('#colorpicker').farbtastic('#color');
	    $('#colorpicker').farbtastic(function() {
	    	// alert($.farbtastic('#colorpicker').color);
	    	socket.emit('send colour', $.farbtastic('#colorpicker').color);
	    	$('body').css("background-color", $.farbtastic('#colorpicker').color);
	    	// $('#color').val($.farbtastic('#colorpicker').color);
	    });

	    // $('#colorpicker').on('change', function() {
	    // 	$('body').css({"background-color": color.value});
	    // })
	    

	    // Listen for incoming chat messages.
	    socket.on('update colour', function(colour){
	      console.log('new colour: ' + colour);
	      $('body').css("background-color", colour);
	    });


	    // Sending a new chat
	    // $('form').submit(function(){
	    //   socket.emit('add chat', {text: myMessage.value, timestamp: new Date()});
	    //   return false;
	    // });

	 });
	</script>
</body>
</html>